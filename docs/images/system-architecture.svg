<svg viewBox="0 0 1200 800" xmlns="http://www.w3.org/2000/svg">
  <!-- Define styles -->
  <defs>
    <style>
      .box { fill: #e8f4f8; stroke: #2c3e50; stroke-width: 2; }
      .service-box { fill: #3498db; stroke: #2c3e50; stroke-width: 2; }
      .external-box { fill: #e74c3c; stroke: #2c3e50; stroke-width: 2; }
      .text { font-family: Arial, sans-serif; font-size: 14px; fill: #2c3e50; text-anchor: middle; }
      .title { font-family: Arial, sans-serif; font-size: 16px; font-weight: bold; fill: #2c3e50; text-anchor: middle; }
      .label { font-family: Arial, sans-serif; font-size: 12px; fill: white; text-anchor: middle; }
      .arrow { stroke: #2c3e50; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .port-label { font-family: Arial, sans-serif; font-size: 11px; fill: #7f8c8d; text-anchor: middle; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#2c3e50" />
    </marker>
  </defs>

  <!-- Title -->
  <text x="600" y="35" class="title" font-size="24">Multi-Agent Repository Assistant - System Architecture</text>

  <!-- Frontend Layer -->
  <rect x="150" y="80" width="900" height="80" class="box" rx="5"/>
  <text x="600" y="105" class="title">Frontend (HTML/CSS/JavaScript)</text>
  <text x="600" y="130" class="text">User Interface: Dashboard, Projects, Generate, Articles</text>
  <text x="600" y="150" class="text">Ports: 3000 (Docker), 8000 (Development)</text>

  <!-- Arrow -->
  <path d="M 600 160 L 600 200" class="arrow"/>

  <!-- Backend Layer -->
  <rect x="150" y="200" width="900" height="120" class="service-box" rx="5"/>
  <text x="600" y="225" class="label" font-size="16">Backend API (Flask - Port 5000)</text>
  <text x="300" y="260" class="label">Auth Routes</text>
  <text x="600" y="260" class="label">Projects Routes</text>
  <text x="900" y="260" class="label">Generation Routes</text>
  <text x="300" y="285" class="label">(Register, Login, JWT)</text>
  <text x="600" y="285" class="label">(CRUD, Analysis)</text>
  <text x="900" y="285" class="label">(Articles, Outlines)</text>

  <!-- Internal arrows for API routes -->
  <rect x="250" y="250" width="100" height="50" class="box" rx="3"/>
  <rect x="550" y="250" width="100" height="50" class="box" rx="3"/>
  <rect x="850" y="250" width="100" height="50" class="box" rx="3"/>

  <!-- Arrow from Backend -->
  <path d="M 600 320 L 600 360" class="arrow"/>

  <!-- Multi-Agent Orchestrator -->
  <rect x="150" y="360" width="900" height="100" class="service-box" rx="5"/>
  <text x="600" y="385" class="label" font-size="14">LangGraph Multi-Agent Orchestrator</text>
  
  <!-- Agent boxes -->
  <rect x="200" y="400" width="120" height="45" class="box" rx="3"/>
  <text x="260" y="428" class="text" font-size="11">Repo Analyzer</text>

  <rect x="380" y="400" width="120" height="45" class="box" rx="3"/>
  <text x="440" y="428" class="text" font-size="11">Embedding Agent</text>

  <rect x="560" y="400" width="120" height="45" class="box" rx="3"/>
  <text x="620" y="428" class="text" font-size="11">Article Generator</text>

  <rect x="740" y="400" width="120" height="45" class="box" rx="3"/>
  <text x="800" y="428" class="text" font-size="11">Content Improver</text>

  <rect x="920" y="400" width="120" height="45" class="box" rx="3"/>
  <text x="980" y="428" class="text" font-size="11">Reviewer</text>

  <!-- External Services -->
  <path d="M 300 460 L 300 520" class="arrow"/>
  <path d="M 600 460 L 600 520" class="arrow"/>
  <path d="M 900 460 L 900 520" class="arrow"/>

  <!-- External Services Layer -->
  <rect x="100" y="520" width="150" height="80" class="external-box" rx="5"/>
  <text x="175" y="545" class="label" font-size="14">Qdrant</text>
  <text x="175" y="565" class="label" font-size="11">Vector Database</text>
  <text x="175" y="580" class="label" font-size="11">Port 6333</text>

  <rect x="525" y="520" width="150" height="80" class="external-box" rx="5"/>
  <text x="600" y="545" class="label" font-size="14">Cohere LLM</text>
  <text x="600" y="565" class="label" font-size="11">Text Generation</text>
  <text x="600" y="580" class="label" font-size="11">API</text>

  <rect x="950" y="520" width="150" height="80" class="external-box" rx="5"/>
  <text x="1025" y="545" class="label" font-size="14">GitHub</text>
  <text x="1025" y="565" class="label" font-size="11">Repository</text>
  <text x="1025" y="580" class="label" font-size="11">Cloning</text>

  <!-- Data Storage -->
  <path d="M 600 600 L 600 650" class="arrow"/>

  <rect x="200" y="650" width="250" height="80" class="box" rx="5"/>
  <text x="325" y="675" class="title">User Data (JSON)</text>
  <text x="325" y="695" class="text">Users, Authentication</text>
  <text x="325" y="715" class="text">Projects, Articles</text>

  <rect x="750" y="650" width="250" height="80" class="box" rx="5"/>
  <text x="875" y="675" class="title">Vector Store</text>
  <text x="875" y="695" class="text">Qdrant Collections</text>
  <text x="875" y="715" class="text">Semantic Embeddings</text>

  <!-- Legend -->
  <rect x="50" y="760" width="1100" height="30" fill="none" stroke="#bdc3c7" stroke-width="1" stroke-dasharray="5,5"/>
  <text x="70" y="780" class="text" font-size="11">ðŸ”µ Internal Services (Flask API) ðŸ”´ External APIs/Services ðŸŸ¦ Storage/Data ðŸŸ© User Interfaces</text>
</svg>
